<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Homework 2 | COMS4732W Computer Vision 2</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Homework 2" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <meta property="og:description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <link rel="canonical" href="http://localhost:4000/hw2/" /> <meta property="og:url" content="http://localhost:4000/hw2/" /> <meta property="og:site_name" content="COMS4732W Computer Vision 2" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Homework 2" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A starter template for a Jeykll site using the Just the Docs theme!","headline":"Homework 2","url":"http://localhost:4000/hw2/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <header class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> COMS4732W Computer Vision 2 </a> <button id="menu-button" class="site-button btn-reset" aria-label="Menu" aria-expanded="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/hw1/" class="nav-list-link">Homework 1</a></li><li class="nav-list-item"><a href="/hw2/" class="nav-list-link">Homework 2</a></li><li class="nav-list-item"><a href="/hw3/" class="nav-list-link">Homework 3</a></li><li class="nav-list-item"><a href="/hw4/" class="nav-list-link">Homework 4</a></li><li class="nav-list-item"><a href="/hw5/" class="nav-list-link">Homework 5</a></li></ul> </nav> <div class="d-md-block d-xs-none"> <div class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </div> </header> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search COMS4732W Computer Vision 2" autocomplete="off"> <label for="search-input" class="search-label"> <span class="sr-only">Search COMS4732W Computer Vision 2</span> <svg viewBox="0 0 24 24" class="search-icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg> </label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/just-the-docs/just-the-docs-template" class="site-button" > Template Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <style> h1 { font-size: x-large; } h1 a { font-size: medium; } h1 img { float: left; padding-right: 1em; } h2 { font-size: x-large; text-align: left; font-variant: small-caps; } h2 b { font-size: large; font-variant: normal; color: red; } h2 i { font-size: large; font-variant: normal; font-style: italic; font-weight: normal; } h3 { font-size: large; font-variant: small-caps; margin: 1em 0 0 0; } /* Ensure h5 is at least as large as paragraph text */ h5 { font-size: 1em; } p { margin: 0 1em 0.5em 1em; } ul, ol { margin: 0.5em 0 0.5em 1em; } li { margin: 0; } /* Rubric layout styles (scoped to this page) */ .rubric { display: flex; justify-content: space-between; gap: 0.5rem; align-items: flex-start; flex-wrap: wrap; } .rubric-col { width: 48%; min-width: 320px; } .rubric-indent { margin-left: 0.5rem; } .rubric-note { font-size: 0.95em; } .rubric h5 { margin: 0.25em 0; } </style><header> <h1> Homework 2<br /> <a href="../../">COMS4732: Computer Vision 2</a> </h1> </header> <h2 style="text-align: center;"> <div style="display: flex; justify-content: center; gap: 1em; align-items: center; flex-wrap: wrap;"> <img src="/hws/hw2/image002.gif" alt="Feature Matching Example" /> <img src="/hws/hw2/image003.gif" alt="Feature Matching Example 2" /> </div><br /> AUTOMATIC FEATURE MATCHING ACROSS IMAGES<br /> <b style="color:#9E0000">Due Date: TBD</b> </h2> <h2 id="background"> <a href="#background" class="anchor-heading" aria-labelledby="background"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Background </h2> <p>This assignment will involve creating a system for automatically detecting corresponding features in 2 images, as well as learning how to read and implement a research paper.</p> <p>We will follow the paper <a href="https://cal-cs180.github.io/fa25/hw/proj3/Papers/MOPS.pdf">“Multi-Image Matching using Multi-Scale Oriented Patches”</a> by Brown et al. but with several simplifications. Read the paper first and make sure you understand it, then implement the algorithm.</p> <h2 id="step-1-harris-corner-detection-5-points"> <a href="#step-1-harris-corner-detection-5-points" class="anchor-heading" aria-labelledby="step-1-harris-corner-detection-5-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Harris Corner Detection (5 points) </h2> <ul> <li>Start with Harris Interest Point Detector (Section 2). We won’t worry about multi-scale – just do a single scale. Also, don’t worry about sub-pixel accuracy. Re-implementing Harris is a thankless task – so you can use our sample code: <a href="harris.py">harris.py</a>.</li> </ul> <p><img src="/hws/hw2/step1_deliverable.png" alt="Step 1 Deliverable" /></p> <p><strong>Deliverables:</strong> Show your 2 images, as-is, side-by-side. Also, show detected corners overlaid on your set of images side-by-side.</p> <h2 id="step-2-adaptive-non-maximal-suppression-anms-15-points"> <a href="#step-2-adaptive-non-maximal-suppression-anms-15-points" class="anchor-heading" aria-labelledby="step-2-adaptive-non-maximal-suppression-anms-15-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Adaptive Non-Maximal Suppression (ANMS) (15 points) </h2> <ul> <li>Implement Adaptive Non-Maximal Suppression (ANMS, Section 3). Include in your submission a figure of the chosen corners overlaid on the image. This section has multiple moving parts; you may need to read it a few times. You may want to skip this step and come back to it; just choose a random set of corners instead in the meantime.</li> </ul> <p><img src="/hws/hw2/step2_deliverable.png" alt="Step 2 Deliverable" /></p> <p><strong>Deliverables:</strong> Show chosen corners overlaid on your set of images side-by-side after applying ANMS.</p> <h2 id="step-3-feature-descriptor-extraction-5-points"> <a href="#step-3-feature-descriptor-extraction-5-points" class="anchor-heading" aria-labelledby="step-3-feature-descriptor-extraction-5-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 3: Feature Descriptor Extraction (5 points) </h2> <p>Implement Feature Descriptor extraction (Section 4 of the paper). Don’t worry about rotation-invariance – just extract axis-aligned 8x8 patches. Note that it’s extremely important to sample these patches from the larger 40x40 window to have a nice big blurred descriptor. Don’t forget to bias/gain-normalize the descriptors. Ignore the wavelet transform section.</p> <p><strong>Deliverables:</strong> deliverable is part of step 4</p> <h2 id="step-4-feature-matching-15-points"> <a href="#step-4-feature-matching-15-points" class="anchor-heading" aria-labelledby="step-4-feature-matching-15-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 4: Feature Matching (15 points) </h2> <p>Implement Feature Matching (Section 5 of the paper). That is, you will need to find pairs of features that look similar and are thus likely to be good matches. There are 2 approaches for this:</p> <ol> <li>Nearest neighbor matching: Find the nearest neighbor for each feature in the other image and check if the distance is less than some threshold.</li> <li>Lowe’s ratio test / NN distance ratio (NNDR): <ul> <li>Threshold on the ratio between the first and the second nearest neighbors. Consult Figure 6b in the paper for picking the threshold. Ignore Section 6 of the paper.</li> <li>The idea here is that a good descriptor from img2 should be significantly better than the other img2 descriptor candidates while still being close to the img1 descriptor.</li> </ul> </li> </ol> <p>You will implement the latter: for your set of images, display the NNDR histogram and highlight the threshold you used.</p> <div style="display: flex; justify-content: center; gap: 1em; align-items: center; flex-wrap: wrap;"> <img src="/hws/hw2/step4.1_deliverable.png" alt="Step 4.1 Deliverable" style="max-width: 45%; height: auto;" /> <img src="/hws/hw2/step4.2_deliverable.png" alt="Step 4.2 Deliverable" style="max-width: 45%; height: auto;" /> </div> <p><img src="/hws/hw2/step4.3_deliverable.png" alt="Step 4.3 Deliverable" /></p> <p><strong>Deliverables:</strong></p> <ol> <li>Display the NNDR histogram and highlight the threshold you used. Also specify which similarity metric you used (e.g. SSD, NCC, etc.).</li> <li>Visualize the 5 best feature matches between the 2 images (no worries if you don’t have 10 matches, just show as many as you can). <ol> <li>the first column should be the feature descriptor for img1’s feature.</li> <li>the second column should be the 1NN feature descriptor from img2.</li> <li>the third column should be the 2NN feature descriptor from img2.</li> </ol> </li> <li>Color-code the matched features across both images and display them side-by-side. Also, put a number next to each feature to indicate the match index.</li> </ol> <h2 id="step-5-ransac-to-estimate-the-homography-40-points"> <a href="#step-5-ransac-to-estimate-the-homography-40-points" class="anchor-heading" aria-labelledby="step-5-ransac-to-estimate-the-homography-40-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 5: RANSAC to estimate the homography (40 points) </h2> <ul> <li>Use 4-point RANSAC as described in class to compute robust homography estimates. Using your best homography estimate, visualize the inliers among the homography applied on all points.</li> </ul> <p><strong>Deliverables:</strong> Show the inliers associated with the best homography found with RANSAC.</p> <h2 id="bells--whistles-optional"> <a href="#bells--whistles-optional" class="anchor-heading" aria-labelledby="bells--whistles-optional"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bells &amp; Whistles (Optional) </h2> <ul> <li> <p><strong>Image Panoramic:</strong> Create a panoramic image from the 2 images by stitching them together using the homography and blending the images together.</p> </li> <li> <p><strong>Rotation invariance:</strong> Add rotation invariance to the MOPS feature descriptors.</p> </li> <li> <p><strong>Support for 3+ images:</strong> Implement support for 3+ images by using the homography to stitch together more than 2 images.</p> </li> </ul> <h2 id="deliverables"> <a href="#deliverables" class="anchor-heading" aria-labelledby="deliverables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deliverables </h2> <p>You must submit your code and visualizations outlined above for <strong>2 different scenes / pairs of images</strong>. You <em>cannot</em> use the example provided by the staff. An example for one scene is shown below:</p> <div style="display: flex; flex-direction: column; gap: 1em; align-items: center;"> <img src="/hws/hw2/step4.2_deliverable.png" alt="Step 4.2 Deliverable - NNDR Distribution" style="max-width: 80%; height: auto;" /> <div style="display: flex; justify-content: center; gap: 1em; align-items: stretch; flex-wrap: wrap; width: 100%;"> <div style="flex: 1; max-width: 48%; display: flex;"> <img src="/hws/hw2/step4.1_deliverable.png" alt="Step 4.1 Deliverable - Top Feature Matches" style="width: 100%; height: 100%; object-fit: contain;" /> </div> <div style="flex: 1; max-width: 48%; display: flex;"> <img src="/hws/hw2/entire_deliverable.png" alt="Entire Pipeline Deliverable" style="width: 100%; height: 100%; object-fit: contain;" /> </div> </div> </div> <h2 id="hints"> <a href="#hints" class="anchor-heading" aria-labelledby="hints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hints </h2> <ul> <li>You can use LLMs to implement any visualization code you wish.</li> <li>If you would like to visually debug using the staff example, the images can be found here: <a href="/hws/hw2/north1.jpg">north1.jpg</a> and <a href="/hws/hw2/north2.jpg">north2.jpg</a></li> <li>Some hyperparameters (such as the RANSAC NNDR threshold) may need to be tuned for each image pair. For references, the staff solution for the example provided in this webpage used the following:</li> </ul> <div class="table-wrapper"><table> <thead> <tr> <th>Hyperparameter</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">harris_corner_edge_discard</code></td> <td>20</td> <td>Number of pixels to discard from image edges when detecting Harris corners</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">anms_c_robust</code></td> <td>0.8</td> <td>Robustness parameter for Adaptive Non-Maximal Suppression (ANMS)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">anms_num_points</code></td> <td>250</td> <td>Number of interest points to retain after ANMS</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">feature_matching_metric</code></td> <td>“NCC”</td> <td>Metric for comparing feature descriptors (e.g., NCC, SSD)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">feature_matching_ratio_threshold</code></td> <td>0.85</td> <td>NNDR (Nearest Neighbor Distance Ratio) threshold for feature matching</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ransac_s</code></td> <td>4</td> <td>Number of correspondences to sample per RANSAC iteration</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ransac_epsilon</code></td> <td>1.0</td> <td>Distance threshold (in pixels) for RANSAC inlier classification</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ransac_num_iters</code></td> <td>15000</td> <td>Number of iterations to run RANSAC</td> </tr> </tbody> </table></div> <h2 id="acknowledgements"> <a href="#acknowledgements" class="anchor-heading" aria-labelledby="acknowledgements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Acknowledgements </h2> <p>This assignment is based on <a href="https://cal-cs180.github.io/fa25/hw/proj3/partB.html">Alyosha Efros’s version at Berkeley</a>.</p> </main> <hr> <footer> <div class="d-xs-block d-md-none"> <div class="mt-4 fs-2"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
